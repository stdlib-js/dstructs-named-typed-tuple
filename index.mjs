// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{primitives as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string-array@v0.2.2-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-iterator-symbol-support@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-properties-in@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/array-typed@v0.3.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/array-int8@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@v0.3.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@v0.2.4-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-property@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-write-accessor@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.2.3-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/array-typed-dtypes@v0.2.2-esm/index.mjs";function b(r,e){var n;for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1}var T=E();function x(r,e){return r-e}var B=u(new a(0)),S=f();function L(f,u){var a,E,O,F,R;if(!r(f))throw new TypeError(g("nullBZ",f));if(!function(r){var e,n;for(e={},n=0;n<r.length;n++){if(s(e,r[n]))return!1;e[r[n]]=!0}return!0}(f))throw new TypeError(g("nullBa",f));for(E=f.slice(),a=E.length,R=0;R<a;R++)if(b(B,E[R]))throw new Error(g("nullBb",E[R]));if(O={dtype:"float64",name:"tuple"},arguments.length>1&&(F=function(r,n){if(!j(n))return new TypeError(g("null2V",n));if(s(n,"dtype")){if(r.dtype=n.dtype,!e(r.dtype))return new TypeError(g("null2W","dtype",r.dtype));if(!b(T,r.dtype))return new TypeError(g("nullBf","dtype",r.dtype))}return s(n,"name")&&(r.name=n.name,!e(r.name))?new TypeError(g("null2W","name",r.name)):null}(O,u),F))throw F;function k(){var o,s,f,u,j;if((u=(f=arguments.length)<=0?h(a,O.dtype):1===f?e(arguments[0])?h(a,arguments[0]):n(arguments[0])?h(arguments[0],0,a,O.dtype):h(arguments[0],O.dtype):2===f?n(arguments[0])?e(arguments[1])?h(arguments[0],0,a,arguments[1]):h(arguments[0],arguments[1],a,O.dtype):h(arguments[0],arguments[1]):h(arguments[0],arguments[1],a,arguments[2])).length!==a)throw new RangeError(g("nullBc",a,u.length));for(s=p(u),o=[],j=0;j<a;j++)o.push(j),c(u,E[j],b(j),T(j));return d(u,"name",O.name),w(u,"fields",(function(){return E.slice()})),w(u,"orderedFields",(function(){var r,e;for(r=E.slice(),e=0;e<a;e++)r[e]=E[o[e]];return r})),d(u,"entries",(function(){var r,e,n,t;if((r=this)!==u)throw new TypeError(g("null1m"));t=-1,m(e={},"next",{configurable:!1,enumerable:!1,writable:!1,value:i}),m(e,"return",{configurable:!1,enumerable:!1,writable:!1,value:function(r){if(n=!0,arguments.length)return{value:r,done:!0};return{done:!0}}}),S&&m(e,v,{configurable:!1,enumerable:!1,writable:!1,value:function(){return r.entries()}});return e;function i(){return t+=1,n||t>=a?{done:!0}:{value:[t,E[o[t]],u[t]],done:!1}}})),d(u,"every",(function(r,e){var n;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));for(n=0;n<a;n++)if(!r.call(e,u[n],n,E[o[n]],u))return!1;return!0})),d(u,"fieldOf",(function(r){var e;if(this!==u)throw new TypeError(g("null1m"));if(arguments.length>1){if(!i(e=arguments[0]))throw new TypeError(g("null7f",e));if(e>=a)return;e<0&&(e=a+e)<0&&(e=0)}else e=0;for(;e<a;e++)if(u[e]===r)return E[o[e]]})),d(u,"filter",(function(r,e){var n,i,l;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));for(n=[],i=[],l=0;l<a;l++)r.call(e,u[l],l,E[o[l]],u)&&(i.push(E[o[l]]),n.push(u[l]));if(i.length===a)return k(n,s);if(i.length)return L(i,O)(n);return null})),d(u,"find",(function(r,e){var n;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));for(n=0;n<a;n++)if(r.call(e,u[n],n,E[o[n]],u))return u[n]})),d(u,"findIndex",(function(r,e){var n;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));for(n=0;n<a;n++)if(r.call(e,u[n],n,E[o[n]],u))return n;return-1})),d(u,"findField",(function(r,e){var n,i;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));for(i=0;i<a;i++)if(n=E[o[i]],r.call(e,u[i],i,n,u))return n})),d(u,"forEach",(function(r,e){var n;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));for(n=0;n<a;n++)r.call(e,u[n],n,E[o[n]],u)})),d(u,"ind2key",(function(r){if(this!==u)throw new TypeError(g("null1m"));if(!i(r))throw new TypeError(g("null8A",r));r<0&&(r=a+r);if(r<0||r>=a)return;return E[o[r]]})),d(u,"key2ind",(function(r){var n;if(this!==u)throw new TypeError(g("null1m"));if(!e(r))throw new TypeError(g("null3F",r));for(n=0;n<a;n++)if(E[o[n]]===r)return n;return-1})),d(u,"keys",(function(){var r,e,n,t;if((r=this)!==u)throw new TypeError(g("null1m"));t=-1,m(e={},"next",{configurable:!1,enumerable:!1,writable:!1,value:i}),m(e,"return",{configurable:!1,enumerable:!1,writable:!1,value:function(r){if(n=!0,arguments.length)return{value:r,done:!0};return{done:!0}}}),S&&m(e,v,{configurable:!1,enumerable:!1,writable:!1,value:function(){return r.keys()}});return e;function i(){return t+=1,n||t>=a?{done:!0}:{value:[t,E[o[t]]],done:!1}}})),d(u,"lastFieldOf",(function(r){var e;if(this!==u)throw new TypeError(g("null1m"));if(arguments.length>1){if(!i(e=arguments[1]))throw new TypeError(g("null7f",e));if(e>=a)e=a-1;else if(e<0&&(e=a+e)<0)return}else e=a-1;for(;e>=0;e--)if(u[e]===r)return E[o[e]]})),d(u,"map",(function(r,e){var n,i;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));for(n=k(s),i=0;i<a;i++)n[i]=r.call(e,u[i],i,E[o[i]],u);return n})),d(u,"reduce",(function(r){var e,n;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));arguments.length>1?(e=arguments[1],n=0):(e=u[0],n=1);for(;n<a;n++)e=r(e,u[n],n,E[o[n]],u);return e})),d(u,"reduceRight",(function(r){var e,n;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));arguments.length>1?(e=arguments[1],n=a-1):(e=u[a-1],n=a-2);for(;n>=0;n--)e=r(e,u[n],n,E[o[n]],u);return e})),d(u,"reverse",(function(){var r,e,n;if(this!==u)throw new TypeError(g("null1m"));for(e=0;e<y(a/2);e++)n=a-e-1,r=u[e],u[e]=u[n],u[n]=r;for(e=0;e<a;e++)o[e]=a-o[e]-1;return u})),d(u,"slice",(function(r,e){var n,t,l,f;if(this!==u)throw new TypeError(g("null1m"));if(0===arguments.length)return k(u,s);if(l=r,!i(l))throw new TypeError(g("null7e",r));l<0&&(l=a+l)<0&&(l=0);if(1===arguments.length)f=a;else{if(!i(f=e))throw new TypeError(g("null7f",e));f<0?(f=a+f)<0&&(f=0):f>a&&(f=a)}if(l>=f)return null;for(t=[],n=[];l<f;l++)t.push(E[o[l]]),n.push(u[l]);return L(t,O)(n,s)})),d(u,"some",(function(r,e){var n;if(this!==u)throw new TypeError(g("null1m"));if(!t(r))throw new TypeError(g("null3c",r));for(n=0;n<a;n++)if(r.call(e,u[n],n,E[o[n]],u))return!0;return!1})),d(u,"sort",(function(r){var e,n,i,l,s,f;if(this!==u)throw new TypeError(g("null1m"));if(arguments.length){if(!t(r))throw new TypeError(g("null3c",r));e=r}else e=x;for(o.sort((function(r,n){var t=u[o[r]],i=u[o[n]];return e(t,i)})),n=o.slice(),i=0;i<a;i++)if(n[i]!==i){for(f=u[i],s=n[l=i];s!==i;)u[l]=u[s],n[l]=l,s=n[l=s];u[l]=f,n[l]=l}return u})),d(u,"subtuple",(function(r,e){var n,t,l,f;if(this!==u)throw new TypeError(g("null1m"));if(0===arguments.length)return k(u.buffer,u.byteOffset,s);if(t=r,!i(t))throw new TypeError(g("null7e",r));t<0&&(t=a+t)<0&&(t=0);if(1===arguments.length)l=a;else{if(!i(l=e))throw new TypeError(g("null7f",e));l<0?(l=a+l)<0&&(l=0):l>a&&(l=a)}if(t>=l)return null;for(n=[],f=t;f<l;f++)n.push(E[o[f]]);return L(n,O)(u.buffer,u.byteOffset+t*u.BYTES_PER_ELEMENT,s)})),d(u,"toJSON",(function(){var r,e;if(this!==u)throw new TypeError(g("null1m"));for(r={},e=0;e<a;e++)r[E[e]]=u[o[e]];return r})),d(u,"toLocaleString",(function(n,t){var i,s,f,h;if(this!==u)throw new TypeError(g("null1m"));if(0===arguments.length)i=[];else{if(!e(n)&&!r(n))throw new TypeError(g("invalid argument. First argument must be a string or an array of strings. Value: `%s`.",n));i=n}if(arguments.length<2)f={};else{if(!l(t))throw new TypeError(g("null2V",t));f=t}for(s=O.name.toLocaleString(i,f)+"(",h=0;h<a;h++)s+=E[h].toLocaleString(i,f),s+="=",s+=u[o[h]].toLocaleString(i,f),h<a-1&&(s+=", ");return s+=")"})),d(u,"toString",(function(){var r,e;if(this!==u)throw new TypeError(g("null1m"));for(r=O.name+"(",e=0;e<a;e++)r+=E[e],r+="=",r+=u[o[e]],e<a-1&&(r+=", ");return r+=")"})),u;function b(r){return function(){return u[o[r]]}}function T(r){return function(e){u[o[r]]=e}}}return m(k,"from",{configurable:!1,enumerable:!1,writable:!1,value:function(r){var e,n,i,s,f,u,h;if(this!==k)throw new TypeError(g("null1n"));if((n=arguments.length)>1){if(!t(s=arguments[1]))throw new TypeError(g("null2H",s));n>2&&(e=arguments[2])}if(o(r)){if(r.length!==a)throw new RangeError(g("nullBd",a,r.length));if(i=k(a,O.dtype),s)for(h=0;h<a;h++)i[h]=s.call(e,r[h],h,E[h]);else for(h=0;h<a;h++)i[h]=r[h]}else{if(!(l(r)&&S&&t(r[v])))throw new TypeError(g("null2J",r));if(u=r[v](),!t(u.next))throw new TypeError(g("null2J",r));f=s?function(r,e,n,t){var i,l,o;for(i=[],o=-1;!(l=e.next()).done;)o+=1,i.push(n.call(t,l.value,o,r[o]));return i}(E,u,s,e):function(r){var e,n;for(e=[];!(n=r.next()).done;)e.push(n.value);return e}(u),i=k(f,O.dtype)}return i}}),m(k,"fromObject",{configurable:!1,enumerable:!1,writable:!1,value:function(r){var e,n,i,l,o,f;if(this!==k)throw new TypeError(g("null1n"));if(null===r||"object"!=typeof r)throw new TypeError(g("null3L",r));if((n=arguments.length)>1){if(!t(l=arguments[1]))throw new TypeError(g("null2H",l));n>2&&(e=arguments[2])}if(i=k(a,O.dtype),l)for(f=0;f<a;f++)o=E[f],s(r,o)&&(i[f]=l.call(e,r[o],o));else for(f=0;f<a;f++)o=E[f],s(r,o)&&(i[f]=r[o]);return i}}),m(k,"of",{configurable:!1,enumerable:!1,writable:!1,value:function(){var r,e;if(this!==k)throw new TypeError(g("null1n"));if(arguments.length!==a)throw new RangeError(g("nullBe",a,arguments.length));for(r=[],e=0;e<arguments.length;e++)r.push(arguments[e]);return k(r)}}),k}export{L as default};
//# sourceMappingURL=index.mjs.map
