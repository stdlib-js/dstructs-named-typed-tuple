// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{primitives as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string-array@v0.2.2-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-iterator-symbol-support@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-properties-in@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/array-typed@v0.3.0-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-int8@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@v0.3.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@v0.2.4-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-property@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-write-accessor@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.2.3-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/array-typed-dtypes@v0.2.2-esm/index.mjs";function E(r,e){var n;for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1}var T=b();function x(r,e){return r-e}var B=u(new p(0)),O=f();function R(f,u){var p,b,k,F,J;if(!r(f))throw new TypeError(j("nullBZ",f));if(!function(r){var e,n;for(e={},n=0;n<r.length;n++){if(s(e,r[n]))return!1;e[r[n]]=!0}return!0}(f))throw new TypeError(j("nullBa",f));for(b=f.slice(),p=b.length,J=0;J<p;J++)if(E(B,b[J]))throw new Error(j("nullBb",b[J]));if(k={dtype:"float64",name:"tuple"},arguments.length>1&&(F=function(r,n){if(!g(n))return new TypeError(j("null2V",n));if(s(n,"dtype")){if(r.dtype=n.dtype,!e(r.dtype))return new TypeError(j("null2W","dtype",r.dtype));if(!E(T,r.dtype))return new TypeError(j("nullBf","dtype",r.dtype))}return s(n,"name")&&(r.name=n.name,!e(r.name))?new TypeError(j("null2W","name",r.name)):null}(k,u),F))throw F;function S(){var r,l,o,s,f;if((s=(o=arguments.length)<=0?h(p,k.dtype):1===o?e(arguments[0])?h(p,arguments[0]):n(arguments[0])?h(arguments[0],0,p,k.dtype):h(arguments[0],k.dtype):2===o?n(arguments[0])?e(arguments[1])?h(arguments[0],0,p,arguments[1]):h(arguments[0],arguments[1],p,k.dtype):h(arguments[0],arguments[1]):h(arguments[0],arguments[1],p,arguments[2])).length!==p)throw new RangeError(j("nullBc",p,s.length));for(l=a(s),r=[],f=0;f<p;f++)r.push(f),c(s,b[f],u(f),g(f));return m(s,"name",k.name),w(s,"fields",(function(){return b.slice()})),w(s,"orderedFields",(function(){var e,n;for(e=b.slice(),n=0;n<p;n++)e[n]=b[r[n]];return e})),m(s,"entries",(function(){var e,n,t,i;if((e=this)!==s)throw new TypeError(j("null1m"));i=-1,d(n={},"next",{configurable:!1,enumerable:!1,writable:!1,value:l}),d(n,"return",{configurable:!1,enumerable:!1,writable:!1,value:function(r){if(t=!0,arguments.length)return{value:r,done:!0};return{done:!0}}}),O&&d(n,y,{configurable:!1,enumerable:!1,writable:!1,value:function(){return e.entries()}});return n;function l(){return i+=1,t||i>=p?{done:!0}:{value:[i,b[r[i]],s[i]],done:!1}}})),m(s,"every",(function(e,n){var i;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));for(i=0;i<p;i++)if(!e.call(n,s[i],i,b[r[i]],s))return!1;return!0})),m(s,"fieldOf",(function(e){var n;if(this!==s)throw new TypeError(j("null1m"));if(arguments.length>1){if(!i(n=arguments[0]))throw new TypeError(j("null7f",n));if(n>=p)return;n<0&&(n=p+n)<0&&(n=0)}else n=0;for(;n<p;n++)if(s[n]===e)return b[r[n]]})),m(s,"filter",(function(e,n){var i,o,f;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));for(i=[],o=[],f=0;f<p;f++)e.call(n,s[f],f,b[r[f]],s)&&(o.push(b[r[f]]),i.push(s[f]));if(o.length===p)return S(i,l);if(o.length)return R(o,k)(i);return null})),m(s,"find",(function(e,n){var i;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));for(i=0;i<p;i++)if(e.call(n,s[i],i,b[r[i]],s))return s[i]})),m(s,"findIndex",(function(e,n){var i;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));for(i=0;i<p;i++)if(e.call(n,s[i],i,b[r[i]],s))return i;return-1})),m(s,"findField",(function(e,n){var i,l;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));for(l=0;l<p;l++)if(i=b[r[l]],e.call(n,s[l],l,i,s))return i})),m(s,"forEach",(function(e,n){var i;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));for(i=0;i<p;i++)e.call(n,s[i],i,b[r[i]],s)})),m(s,"ind2key",(function(e){if(this!==s)throw new TypeError(j("null1m"));if(!i(e))throw new TypeError(j("null8A",e));e<0&&(e=p+e);if(e<0||e>=p)return;return b[r[e]]})),m(s,"key2ind",(function(n){var t;if(this!==s)throw new TypeError(j("null1m"));if(!e(n))throw new TypeError(j("null3F",n));for(t=0;t<p;t++)if(b[r[t]]===n)return t;return-1})),m(s,"keys",(function(){var e,n,t,i;if((e=this)!==s)throw new TypeError(j("null1m"));i=-1,d(n={},"next",{configurable:!1,enumerable:!1,writable:!1,value:l}),d(n,"return",{configurable:!1,enumerable:!1,writable:!1,value:function(r){if(t=!0,arguments.length)return{value:r,done:!0};return{done:!0}}}),O&&d(n,y,{configurable:!1,enumerable:!1,writable:!1,value:function(){return e.keys()}});return n;function l(){return i+=1,t||i>=p?{done:!0}:{value:[i,b[r[i]]],done:!1}}})),m(s,"lastFieldOf",(function(e){var n;if(this!==s)throw new TypeError(j("null1m"));if(arguments.length>1){if(!i(n=arguments[1]))throw new TypeError(j("null7f",n));if(n>=p)n=p-1;else if(n<0&&(n=p+n)<0)return}else n=p-1;for(;n>=0;n--)if(s[n]===e)return b[r[n]]})),m(s,"map",(function(e,n){var i,o;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));for(i=S(l),o=0;o<p;o++)i[o]=e.call(n,s[o],o,b[r[o]],s);return i})),m(s,"reduce",(function(e){var n,i;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));arguments.length>1?(n=arguments[1],i=0):(n=s[0],i=1);for(;i<p;i++)n=e(n,s[i],i,b[r[i]],s);return n})),m(s,"reduceRight",(function(e){var n,i;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));arguments.length>1?(n=arguments[1],i=p-1):(n=s[p-1],i=p-2);for(;i>=0;i--)n=e(n,s[i],i,b[r[i]],s);return n})),m(s,"reverse",(function(){var e,n,t;if(this!==s)throw new TypeError(j("null1m"));for(n=0;n<v(p/2);n++)t=p-n-1,e=s[n],s[n]=s[t],s[t]=e;for(n=0;n<p;n++)r[n]=p-r[n]-1;return s})),m(s,"slice",(function(e,n){var t,o,f,u;if(this!==s)throw new TypeError(j("null1m"));if(0===arguments.length)return S(s,l);if(f=e,!i(f))throw new TypeError(j("null7e",e));f<0&&(f=p+f)<0&&(f=0);if(1===arguments.length)u=p;else{if(!i(u=n))throw new TypeError(j("null7f",n));u<0?(u=p+u)<0&&(u=0):u>p&&(u=p)}if(f>=u)return null;for(o=[],t=[];f<u;f++)o.push(b[r[f]]),t.push(s[f]);return R(o,k)(t,l)})),m(s,"some",(function(e,n){var i;if(this!==s)throw new TypeError(j("null1m"));if(!t(e))throw new TypeError(j("null3c",e));for(i=0;i<p;i++)if(e.call(n,s[i],i,b[r[i]],s))return!0;return!1})),m(s,"sort",(function(e){var n,i,l,o,f,u;if(this!==s)throw new TypeError(j("null1m"));if(arguments.length){if(!t(e))throw new TypeError(j("null3c",e));n=e}else n=x;for(r.sort((function(e,t){var i=s[r[e]],l=s[r[t]];return n(i,l)})),i=r.slice(),l=0;l<p;l++)if(i[l]!==l){for(u=s[l],f=i[o=l];f!==l;)s[o]=s[f],i[o]=o,f=i[o=f];s[o]=u,i[o]=o}return s})),m(s,"subtuple",(function(e,n){var t,o,f,u;if(this!==s)throw new TypeError(j("null1m"));if(0===arguments.length)return S(s.buffer,s.byteOffset,l);if(o=e,!i(o))throw new TypeError(j("null7e",e));o<0&&(o=p+o)<0&&(o=0);if(1===arguments.length)f=p;else{if(!i(f=n))throw new TypeError(j("null7f",n));f<0?(f=p+f)<0&&(f=0):f>p&&(f=p)}if(o>=f)return null;for(t=[],u=o;u<f;u++)t.push(b[r[u]]);return R(t,k)(s.buffer,s.byteOffset+o*s.BYTES_PER_ELEMENT,l)})),m(s,"toJSON",(function(){var e,n;if(this!==s)throw new TypeError(j("null1m"));for(e={},n=0;n<p;n++)e[b[n]]=s[r[n]];return e})),m(s,"toString",(function(){var e,n;if(this!==s)throw new TypeError(j("null1m"));for(e=k.name+"(",n=0;n<p;n++)e+=b[n],e+="=",e+=s[r[n]],n<p-1&&(e+=", ");return e+=")"})),s;function u(e){return function(){return s[r[e]]}}function g(e){return function(n){s[r[e]]=n}}}return d(S,"from",{configurable:!1,enumerable:!1,writable:!1,value:function(r){var e,n,i,s,f,u,h;if(this!==S)throw new TypeError(j("null1n"));if((n=arguments.length)>1){if(!t(s=arguments[1]))throw new TypeError(j("null2H",s));n>2&&(e=arguments[2])}if(o(r)){if(r.length!==p)throw new RangeError(j("nullBd",p,r.length));if(i=S(p,k.dtype),s)for(h=0;h<p;h++)i[h]=s.call(e,r[h],h,b[h]);else for(h=0;h<p;h++)i[h]=r[h]}else{if(!(l(r)&&O&&t(r[y])))throw new TypeError(j("null2J",r));if(u=r[y](),!t(u.next))throw new TypeError(j("null2J",r));f=s?function(r,e,n,t){var i,l,o;for(i=[],o=-1;!(l=e.next()).done;)o+=1,i.push(n.call(t,l.value,o,r[o]));return i}(b,u,s,e):function(r){var e,n;for(e=[];!(n=r.next()).done;)e.push(n.value);return e}(u),i=S(f,k.dtype)}return i}}),d(S,"fromObject",{configurable:!1,enumerable:!1,writable:!1,value:function(r){var e,n,i,l,o,f;if(this!==S)throw new TypeError(j("null1n"));if(null===r||"object"!=typeof r)throw new TypeError(j("null3L",r));if((n=arguments.length)>1){if(!t(l=arguments[1]))throw new TypeError(j("null2H",l));n>2&&(e=arguments[2])}if(i=S(p,k.dtype),l)for(f=0;f<p;f++)o=b[f],s(r,o)&&(i[f]=l.call(e,r[o],o));else for(f=0;f<p;f++)o=b[f],s(r,o)&&(i[f]=r[o]);return i}}),d(S,"of",{configurable:!1,enumerable:!1,writable:!1,value:function(){var r,e;if(this!==S)throw new TypeError(j("null1n"));if(arguments.length!==p)throw new RangeError(j("nullBe",p,arguments.length));for(r=[],e=0;e<arguments.length;e++)r.push(arguments[e]);return S(r)}}),S}export{R as default};
//# sourceMappingURL=index.mjs.map
